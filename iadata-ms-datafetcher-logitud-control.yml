# disable embedded tomcat
spring:
  main:
    web-environment: false

# Choose the updateDelay on the HTTP call (default : every minute )
dataFetcher:
  pollingCronExpression: '-' # this disable the cron
  scheduleMode: only_once
  fetchMode: range
  prepareDataServiceMode: jsonArraySplitter
  behindProxy: true
  proxyHostEnvName: PROXY_HOST
  proxyPortEnvName: PROXY_PORT
  proxyUserNameEnvName: PROXY_USERNAME
  proxyPasswordEnvName: PROXY_PASSWORD

# apifetcher properties
apiConsume:
  loginRawData: "{\"username\":\"statistique\",\"password\":\"*Stat!68\"}"
  urlLogin: https://services.logitud.fr/toulouse-asvp/auth-server/login/
  cookieLoginName: sid
  urlApiConsume: https://services.logitud.fr/toulouse-asvp/security/activity/activities
  loginApiConsume:
  passwordApiConsume:
  securityTypeApiConsume: json
  method: post
  customHeaders:
    Content-Type : application/json
    uuid : 8950A6F5-A792-4AD4-880D-005809356708
  body:
    jsonBody: '{"context":"gvs.control","dateFrom":"@@@","dateTo":"@@@"}'
    objectFromPath: "$['dateFrom']"
    objectToPath: "$['dateTo']"
  responseType: json
  jsonPathData: "$['matches']"

dateRangeProvider:
  dateStart:
    value: 01/07/2020
    format: 'dd/MM/yyyy'